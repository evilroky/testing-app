<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç—ã ‚Äî –¢–µ—Å—Ç–ú–∞—Å—Ç–µ—Ä</title>
    <link rel="stylesheet" th:href="@{/css/tests.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
</head>
<header th:replace="~{fragments/header :: header}"></header>
<body class="tests-page">

<div class="container">

    <h1 class="page-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É</h1>

    <!-- –ü–æ–∏—Å–∫ -->
    <div class="search-box">
        <input id="searchInput" onkeyup="filterTests()" placeholder="–ü–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤..." type="text">
        <span class="icon">üîç</span>
    </div>

    <!-- –¢–µ–º—ã -->
    <div class="themes">

        <!-- –ö–Ω–æ–ø–∫–∞ "–í—Å–µ" -->
        <a class="theme-btn"
           th:classappend="${selectedTheme} == null ? ' active' : ''"
           th:href="@{/tests}">
            –í—Å–µ
        </a>

        <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã -->
        <a class="theme-btn"
           th:classappend="${selectedTheme} == ${t} ? ' active' : ''"
           th:each="t : ${themes}"
           th:href="@{/tests(theme=${t})}"
           th:text="${t}">
        </a>

    </div>

    <h2 class="tests-title">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã</h2>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–µ—Å—Ç–æ–≤ -->
    <div class="tests-grid" id="testsContainer">

        <div class="tests-card"
             th:attr="data-title=${test.title.toLowerCase()}"
             th:each="test : ${tests}">

            <div class="tests-header">
                <div class="tests-icon">üìÑ</div>
                <span class="tests-theme" th:text="${test.theme}"></span>
            </div>

            <h3 class="tests-title" th:text="${test.title}"></h3>
            <p class="tests-desc" th:text="${test.description}"></p>

            <div class="tests-footer">
                <span>‚ùì <span th:text="${questionCount[test.id]}"></span> –≤–æ–ø—Ä–æ—Å–æ–≤</span>
                <span>–ê–≤—Ç–æ—Ä: <span th:text="${test.author.username}"></span></span>
                <a class="btn-start" th:href="@{/tests/{id}(id=${test.id})}">–ü–µ—Ä–µ–π—Ç–∏</a>
            </div>

        </div>

    </div>

</div>

<script th:src="@{/js/tests.js}"></script>
</body>
</html>
